<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sponews.dao.TipDAO">
	<select id="getLatestTipList" resultType="java.util.HashMap">
		SELECT C.user_id, C.user_nm, C.match_id, C.bet, C.t_title, D.home_name, D.away_name, FROM_UNIXTIME(D.match_time, '%Y-%m-%d %H:%i') AS m_time 
		FROM (SELECT A.user_id, B.user_nm, A.match_id, A.bet, A.t_title FROM tip AS A INNER JOIN user AS B ON A.user_id = B.user_id ORDER BY A.ctime DESC LIMIT 5) AS C 
		INNER JOIN sway_match AS D ON C.match_id = D.match_id
	</select>	
</mapper>